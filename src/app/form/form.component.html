<div class="container">
    <h1>Sign up</h1>
    <form (ngSubmit)="onSubmit()" #signupForm="ngForm" [mustMatch]="['passWord', 'repeatPassWord']" novalidate>

        <div class="form-group">
            <label for="userName">username</label>
            <input type="text" class="form-control" id="userName" placeholder="username" required
            minlength="10" maxlength="20"
                [(ngModel)]="signup.userName" name="userName" #userName="ngModel">
            <div *ngIf="userName.invalid && (userName.dirty || userName.touched)"
                class="alert alert-danger">
            
                <div *ngIf="userName.errors.required">
                    username is required.
                </div>
                <div *ngIf="userName.errors.minlength">
                    username must be at least 10 characters long.
                </div>
                <div *ngIf="userName.errors.maxlength">
                    username no more than 20 characters long.
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="firstName">First name</label>
            <input type="text" class="form-control" id="firstName"  pattern="[a-zA-Z ]*" required
                ng-maxlength="30"
                [(ngModel)]="signup.firstName" name="firstName" #firstName="ngModel">
            <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
            class="alert alert-danger">
                <div *ngIf="firstName.errors.required">
                    first name is required.
                </div>
                <div *ngIf="firstName.errors.maxlength">
                    first name no more than 30 characters long.
                </div>
                <div *ngIf="firstName.errors.pattern">
                    first name is doesn't pattern
                </div>
            </div>
        </div>
        
        <div class="form-group">
            <label for="lastName">Last name</label>
            <input type="text" class="form-control" id="lastName"
                ng-model="lastName" ng-maxlength="30" pattern="[a-zA-Z ]*" required
                [(ngModel)]="signup.lastName" name="lastName" #lastName="ngModel">
            <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
            class="alert alert-danger">
                <div *ngIf="lastName.errors.required">
                    first name is required.
                </div>
                <div *ngIf="lastName.errors.maxlength">
                    first name no more than 30 characters long.
                </div>
                <div *ngIf="lastName.errors.pattern">
                    first name is doesn't pattern.
                </div>
            </div>    
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            <input type="text" class="form-control" id="email"
                ng-model="email" ng-maxlength="30" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" placeholder="@example.com" required
                [(ngModel)]="signup.email" name="email" #email="ngModel">
            <div *ngIf="email.invalid && (email.dirty || email.touched)"
            class="alert alert-danger">
                <div *ngIf="email.errors.required">
                    first name is required.
                </div>
                <div *ngIf="email.errors.pattern">
                    exmaple@gmail.com
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="phoneNumber">Phone number</label>
            <input type="text" class="form-control" id="phoneNumber"
                ng-model="phoneNumber" ng-maxlength="30" pattern="^((\\+84-?)|0)+(9|8|7|3)[0-9]{9}$" placeholder="+84" required
                [(ngModel)]="signup.phoneNumber" name="phoneNumber" #phoneNumber="ngModel">
            <div *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)"
            class="alert alert-danger">
                <div *ngIf="phoneNumber.errors.required">
                    first name is required.
                </div>
                <div *ngIf="phoneNumber.errors.pattern">
                    phone number must have 10 number
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="passWord">Password</label>
            <input type="password" class="form-control" id="passWord" 
                ng-minlength="6" ng-maxlength="30" placeholder="password" required
                [(ngModel)]="signup.passWord" name="passWord" #passWord="ngModel">
            <div [hidden]="passWord.valid || passWord.pristine"
                class="alert alert-danger">
                Pass word is required
            </div>  
        </div>

        <div class="form-group">
            <label for="repeatPassWord">Confirm password</label>
            <input type="password" class="form-control" id="repeatPassWord"
                ng-model="repeatPassWord"   required
                [(ngModel)]="signup.repeatPassWord" name="repeatPassWord" #repeatPassWord="ngModel">
            <div *ngIf="repeatPassWord.invalid && (repeatPassWord.dirty || repeatPassWord.touched)"
                class="alert alert-danger">
                <div *ngIf="repeatPassWord.errors.required">
                    first name is required.
                </div>
                <div *ngIf="repeatPassWord.errors.mustMatch">
                    Passwords must match
                </div>
            </div>
        </div>

        <div class="form-check">
            <input type="checkbox" class="form-check-input" id="exampleCheck1">
            <label class="form-check-label" for="exampleCheck1">I agree for a term,...</label>
        </div>
        <button type="submit" class="btn btn-success" [disabled]="!signupForm.form.valid" routerLink="/login">Signup</button>
        <button type="new form" class="btn btn-default" (click)="newForm(); signupForm.reset()">New form</button>
    </form>
</div>